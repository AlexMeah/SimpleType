function toggleFullScreen(){$(".fullscreen-but").find("i").toggleClass("active"),document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}function toggleSidebar(){$(".icon-toggle").toggleClass("active"),Modernizr.csstransitions?(cons.toggleClass("hide-controls"),notepad.toggleClass("controls-hidden"),hideCon.toggleClass("conhid-buttons")):cons.is(":visible")?(cons.animate({width:"-=300"},700,function(){$(this).hide()}),notepad.animate({"padding-right":0},700),hideCon.animate({right:10},700)):(cons.show().animate({width:"+=300"},700),notepad.animate({"padding-right":330},700),hideCon.animate({right:340},700))}function isPlaying(a){return!a.paused}var winH=$(window).height(),notepad=$("#notepad"),content=$("#content"),hideCon=$("#hide-controls"),cons=$("#controls"),mute=$("#mute"),fullBut=$("[data-fullscreen]"),sound=null;$(document).ready(function(){function a(){$("#title").val(localStorage.getItem("title")),$("#description").val(localStorage.getItem("description")),$("#content").html(localStorage.getItem("content"))}$("[data-fullscreen]").on("click",function(a){a.preventDefault(),Modernizr.fullscreen?toggleFullScreen():alert("Sorry your browser does not support this feature, to enter fullscreen manually please press F11.")}),a(),$("#title").on("keyup",function(){localStorage.setItem("title",$(this).val()),localStorage.setItem("timestamp",(new Date).getTime())}),$("#description").on("keyup",function(){localStorage.setItem("description",$(this).val()),localStorage.setItem("timestamp",(new Date).getTime())}),$("#content").on("keyup",function(){localStorage.setItem("content",$(this).text()),localStorage.setItem("timestamp",(new Date).getTime())}),$("#clear").on("click",function(b){b.preventDefault(),localStorage.clear(),a()}),content.on("focus",function(){hideCon.animate({opacity:1},300)}),content.on("blur",function(){hideCon.animate({opacity:0},300)}),document.getElementById("mute").addEventListener("click",function(a){a=a||window.event,sound.muted=!sound.muted,a.preventDefault(),$(this).find("i").toggleClass("active")},!1),sound=document.getElementsByTagName("audio")[0],content.on("keypress",function(){isPlaying(sound)&&(sound.pause(),sound.currentTime=0),sound.play()}),hideCon.on("click",toggleSidebar),$("#save").on("click",function(a){if(a.preventDefault(),$("#title").val())if(Modernizr.blobconstructor){var b=new Blob([content.text()],{type:"text/plain;charset=utf-8"});saveAs(b,$("#title").val()+".txt")}else alert("Sorry, for the alert. Your browser does not support this feature.")})});var saveAs=saveAs||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(a){"use strict";var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=a.URL||a.webkitURL||a,e=b.createElementNS("http://www.w3.org/1999/xhtml","a"),f="download"in e,g=function(c){var d=b.createEvent("MouseEvents");d.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(d)},h=a.webkitRequestFileSystem,i=a.requestFileSystem||h||a.mozRequestFileSystem,j=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},k="application/octet-stream",l=0,m=[],n=function(){for(var a=m.length;a--;){var b=m[a];"string"==typeof b?d.revokeObjectURL(b):b.remove()}m.length=0},o=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(f){j(f)}}},p=function(b,d){var j,n,p,q=this,r=b.type,s=!1,t=function(){var a=c().createObjectURL(b);return m.push(a),a},u=function(){o(q,"writestart progress write writeend".split(" "))},v=function(){(s||!j)&&(j=t(b)),n&&(n.location.href=j),q.readyState=q.DONE,u()},w=function(a){return function(){return q.readyState!==q.DONE?a.apply(this,arguments):void 0}},x={create:!0,exclusive:!1};return q.readyState=q.INIT,d||(d="download"),f?(j=t(b),e.href=j,e.download=d,g(e),q.readyState=q.DONE,u(),void 0):(a.chrome&&r&&r!==k&&(p=b.slice||b.webkitSlice,b=p.call(b,0,b.size,k),s=!0),h&&"download"!==d&&(d+=".download"),n=r===k||h?a:a.open(),i?(l+=b.size,i(a.TEMPORARY,l,w(function(a){a.root.getDirectory("saved",x,w(function(a){var c=function(){a.getFile(d,x,w(function(a){a.createWriter(w(function(c){c.onwriteend=function(b){n.location.href=a.toURL(),m.push(a),q.readyState=q.DONE,o(q,"writeend",b)},c.onerror=function(){var a=c.error;a.code!==a.ABORT_ERR&&v()},"writestart progress write abort".split(" ").forEach(function(a){c["on"+a]=q["on"+a]}),c.write(b),q.abort=function(){c.abort(),q.readyState=q.DONE},q.readyState=q.WRITING}),v)}),v)};a.getFile(d,{create:!1},w(function(a){a.remove(),c()}),w(function(a){a.code===a.NOT_FOUND_ERR?c():v()}))}),v)}),v),void 0):(v(),void 0))},q=p.prototype,r=function(a,b){return new p(a,b)};return q.abort=function(){var a=this;a.readyState=a.DONE,o(a,"abort")},q.readyState=q.INIT=0,q.WRITING=1,q.DONE=2,q.error=q.onwritestart=q.onprogress=q.onwrite=q.onabort=q.onerror=q.onwriteend=null,a.addEventListener("unload",n,!1),r}(self);